# params.yaml

# ---------------------------------------------------------
# ‚úÇÔ∏è SPLIT CONFIG
# ---------------------------------------------------------
split:
  val_ratio: 0.2    # ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏π‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏£‡∏ô
  test_ratio: 0.1   # üî• ‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà: ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô S3
  seed: 42
# ---------------------------------------------------------
# üß™ AUGMENT CONFIG (Target per class)
# ---------------------------------------------------------
# params.yaml (Update ‡∏™‡πà‡∏ß‡∏ô augment)

augment:
  # üíä PILL: ‡∏´‡∏°‡∏∏‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¥‡∏™‡∏£‡∏∞ ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß‡πÑ‡∏î‡πâ
  pill:
    target_per_class: 500
    aug_params:
      rotate_limit: 180       # ‡∏´‡∏°‡∏∏‡∏ô‡∏£‡∏≠‡∏ö‡∏ó‡∏¥‡∏®
      p_rotate: 0.8
      p_vertical_flip: 0.5    # ‚úÖ ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß‡πÑ‡∏î‡πâ
      p_horizontal_flip: 0.5
      p_brightness: 0.2
      blur_limit: 3

  # üì¶ BOX: ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß ‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡πÑ‡∏î‡πâ‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
  box:
    target_per_class: 50
    aug_params:
      rotate_limit: 15        # ‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏û‡∏≠
      p_rotate: 0.5
      p_vertical_flip: 0.0    # ‚ùå ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß (Set ‡πÄ‡∏õ‡πá‡∏ô 0)
      p_horizontal_flip: 0.5  # ‡∏Å‡∏•‡∏±‡∏ö‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤‡πÑ‡∏î‡πâ
      p_brightness: 0.2
      shift_limit: 0.05
      scale_limit: 0.1
      perspective_scale: 0.1  # ‡∏ö‡∏¥‡∏î‡∏†‡∏≤‡∏û 3D
# ---------------------------------------------------------
# üöÄ TRAIN CONFIG
# ---------------------------------------------------------
train:
  # üíä Config ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏°‡πá‡∏î‡∏¢‡∏≤ (‡πÄ‡∏ô‡πâ‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î, Model ‡πÄ‡∏•‡πá‡∏Å)
  pill:
    model_name: "convnext_tiny"
    img_size: 224
    batch_size: 16
    epochs: 1        # ‡πÄ‡∏ó‡∏£‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á‡πÉ‡∏ä‡πâ 15-20 ‡∏£‡∏≠‡∏ö
    lr: 0.0001
    weight_decay: 0.0001
    dropout: 0.3
    embed_dim: 512    # ‡∏Ç‡∏ô‡∏≤‡∏î Vector ‡∏Ç‡∏≠‡∏á ArcFace
    focal:
      gamma: 2.0
      alpha: 0.25
    seed: 42
    num_workers: 0    # Mac M1/M2 ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ 0

  # üì¶ Config ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏¢‡∏≤ (‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÉ‡∏´‡∏ç‡πà, Model ‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô)
  box:
    model_name: "convnext_small"
    img_size: 224
    batch_size: 16    # ‡∏•‡∏î Batch ‡∏•‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Model ‡πÉ‡∏´‡∏ç‡πà ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß RAM ‡πÄ‡∏ï‡πá‡∏°
    epochs: 1        # ‡πÄ‡∏ó‡∏£‡∏ô‡∏ô‡∏≤‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á‡πÄ‡∏û‡∏£‡∏≤‡∏∞ Parameter ‡πÄ‡∏¢‡∏≠‡∏∞
    lr: 0.0001
    weight_decay: 0.0001
    dropout: 0.5      # ‡πÄ‡∏û‡∏¥‡πà‡∏° Dropout ‡∏Å‡∏±‡∏ô Overfit
    embed_dim: 512
    focal:
      gamma: 2.0
      alpha: 0.25
    seed: 42
    num_workers: 0