# params.yaml

# ---------------------------------------------------------
# ‚úÇÔ∏è SPLIT CONFIG
# ---------------------------------------------------------
split:
  val_ratio: 0.2    # ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏π‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏£‡∏ô
  test_ratio: 0.1   # üî• ‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà: ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô S3
  seed: 42
# ---------------------------------------------------------
# üß™ AUGMENT CONFIG (Target per class)
# ---------------------------------------------------------
# params.yaml (Update ‡∏™‡πà‡∏ß‡∏ô augment)

augment:
  # üíä PILL: ‡∏´‡∏°‡∏∏‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏¥‡∏™‡∏£‡∏∞ ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß‡πÑ‡∏î‡πâ
  pill:
    target_per_class: 300
    aug_params:
      rotate_limit: 180       # ‡∏´‡∏°‡∏∏‡∏ô‡∏£‡∏≠‡∏ö‡∏ó‡∏¥‡∏®
      p_rotate: 0.8
      p_vertical_flip: 0.5    # ‚úÖ ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß‡πÑ‡∏î‡πâ
      p_horizontal_flip: 0.5
      p_brightness: 0.2
      blur_limit: 3

  # üì¶ BOX: ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß ‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡πÑ‡∏î‡πâ‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
  box:
    target_per_class: 350 
    aug_params:
      rotate_limit: 15        # ‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏ô‡∏¥‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏û‡∏≠
      p_rotate: 0.5
      p_vertical_flip: 0.0    # ‚ùå ‡∏´‡πâ‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏±‡∏ß (Set ‡πÄ‡∏õ‡πá‡∏ô 0)
      p_horizontal_flip: 0.5  # ‡∏Å‡∏•‡∏±‡∏ö‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤‡πÑ‡∏î‡πâ
      p_brightness: 0.2
      shift_limit: 0.05
      scale_limit: 0.1
      perspective_scale: 0.1  # ‡∏ö‡∏¥‡∏î‡∏†‡∏≤‡∏û 3D
# ---------------------------------------------------------
# üöÄ TRAIN CONFIG
# ---------------------------------------------------------
train:
  # üíä Config ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏°‡πá‡∏î‡∏¢‡∏≤ (‡πÄ‡∏ô‡πâ‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î, Model ‡πÄ‡∏•‡πá‡∏Å)
  pill:
    model_name: "convnext_small"
    img_size: 512
    batch_size: 16
    epochs: 3        # ‡πÄ‡∏ó‡∏£‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏±‡∏á‡πÉ‡∏ä‡πâ 15-20 ‡∏£‡∏≠‡∏ö
    lr: 0.00003
    weight_decay: 0.0001
    dropout: 0.3
    embed_dim: 512    # ‡∏Ç‡∏ô‡∏≤‡∏î Vector ‡∏Ç‡∏≠‡∏á ArcFace
    focal:
      gamma: 2.0
      alpha: 0.25
    seed: 42
    num_workers: 0    # Mac M1/M2 ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ 0

  # üì¶ Config ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏¢‡∏≤ (‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÉ‡∏´‡∏ç‡πà, Model ‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô)
  box:
    model_name: "convnext_small" # ‡∏´‡∏£‡∏∑‡∏≠ "swin_base_patch4_window12_384"
    img_size: 384               # ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô Detail ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠
    batch_size: 16              # ‚ö†Ô∏è ‡∏•‡∏î‡∏•‡∏á‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° img_size (‡πÅ‡∏•‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î)
    epochs: 10                  # ‚úÖ ‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÜ
    lr: 0.00003                 # ‡πÉ‡∏ä‡πâ OneCycleLR Scheduler ‡∏à‡∏∞‡∏à‡∏∂‡πâ‡∏á‡∏°‡∏≤‡∏Å
    weight_decay: 0.05          # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á‡∏Å‡∏±‡∏ô Overfit 
    dropout: 0.4                # ‡∏Å‡∏±‡∏ô Overfit ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Fine-grained ‡∏°‡∏±‡∏Å‡∏à‡∏≥‡∏à‡∏î
    embed_dim: 512              # ‡∏Ç‡∏ô‡∏≤‡∏î Vector ‡∏Ç‡∏≠‡∏á ArcFace
    focal:
      gamma: 2.0                # ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ Standard ‡∏Ç‡∏∂‡πâ‡∏ô
      alpha: 0.25
    num_workers: 8 